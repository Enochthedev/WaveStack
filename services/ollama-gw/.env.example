# ===== General =====
TZ= timezone (e.g. Africa/Lagos, UTC..)

# ===== Database / Cache =====
POSTGRES_PASSWORD= password
POSTGRES_DB= dbname
DATABASE_URL=postgres://postgres:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}
REDIS_URL=redis://redis:6379

# ===== Core App =====
CORE_PORT=3000                 # external host port
CORE_PORT_INTERNAL=3000        # container listening port
# If routing via proxy later, you can also set:
# GATEWAY_INTERNAL_URL=http://caddy:80

# ===== Clipper =====
CLIPPER_PORT=8081              # external host port (browser opens this)
CLIPPER_PORT_INTERNAL=8080     # container listening port
# Internal URL used by core-app to call the API
CLIPPER_INTERNAL_URL=http://clipper:${CLIPPER_PORT_INTERNAL}
# Public URL embedded in clip responses (browser-facing)
CLIPPER_PUBLIC_URL=http://localhost:${CLIPPER_PORT}

# ===== Caddy (Proxy) =====
CADDY_HTTP_PORT=8080
CADDY_HTTP_PORT_INTERNAL=80
CADDY_HTTPS_PORT=8443
CADDY_HTTPS_PORT_INTERNAL=443

# ===== n8n =====
N8N_PORT=5678
N8N_PORT_INTERNAL=5678

# ===== Ollama =====
OLLAMA_PORT=11434
OLLAMA_PORT_INTERNAL=11434
OLLAMA_INTERNAL_URL=http://ollama:${OLLAMA_PORT_INTERNAL}
OLLAMA_GW_PORT=9091
OLLAMA_GW_PORT_INTERNAL=8080

# ===== Gpt/claude/external AI =====
GPT_PORT=11434
GPT_PORT_INTERNAL=11434
GPT_INTERNAL_URL=http://gpt:${GPT_PORT_INTERNAL}
GPT_GW_PORT=9091
GPT_GW_PORT_INTERNAL=8080

# If you don't have Ollama or GPT server, just comment these lines out

# ===== Storage backend selection =====
STORAGE_BACKEND=local           # local | s3 | gdrive | onedrive | gcs | azure
STORAGE_PUBLIC_BASE=http://localhost:${CLIPPER_PORT}/files   # used for local

# ===== S3 / R2 / MinIO compatible =====
S3_ENDPOINT=                    # e.g. https://s3.amazonaws.com or https://<accountid>.r2.cloudflarestorage.com
S3_REGION=
S3_BUCKET=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ===== Google Drive (user-scoped) =====
GDRIVE_CLIENT_ID=
GDRIVE_CLIENT_SECRET=
# Per-user tokens will be stored in DB, not in .env

# ===== OneDrive (user-scoped / MS Graph) =====
ONEDRIVE_CLIENT_ID=
ONEDRIVE_CLIENT_SECRET=
TENANT_ID=common
DATABASE_URL=postgres://postgres:wave@postgres:5432/wave
REDIS_URL=redis://redis:6379
PORT=3000

# Core-specific
PORT=${CORE_PORT_INTERNAL}
# Prefer internal service URL; Core never needs the browser/public URL
CLIPPER_INTERNAL_URL=${CLIPPER_INTERNAL_URL}
STORAGE_BACKEND=local
# Optional gateway-first pattern:
# GATEWAY_URL=${GATEWAY_INTERNAL_URL}

# Auth configuration
AUTH_MODE=jwks
# For hs256 mode:
# AUTH_JWT_SECRET=your-secret-key
# For jwks mode (RS256):
AUTH_JWKS_URL=http://localhost:3000/.well-known/jwks.json
AUTH_AUDIENCE=wavestack-api
AUTH_ISSUER=wavestack
AUTH_TOKEN_TTL_SECONDS=900

# RSA keypair storage (for production - persists keys across restarts)
# If not set, ephemeral keys will be generated in-memory (dev only)
AUTH_KEYS_DIR=/app/keys
AUTH_KEY_ID=wavestack-1

# Service clients (for machine-to-machine auth)
# Each client should have: client_id, client_secret, org_id, scopes
SERVICE_CLIENTS_JSON=[{"client_id":"clipper-service","client_secret":"clipper-secret-change-me","org_id":"org_demo","scopes":"clip:create clip:read"}]
